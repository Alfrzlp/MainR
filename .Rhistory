ggplot(aes(x = hsize, y = p, fill = factor(status))) +
geom_col(color = "white", width = 0.8, size = 0.9) +
geom_text(
aes(label = scales::percent(p, accuracy = 0.01)),
color = 'black',
fontface = 2,
position = position_stack(vjust = 0.5)
) +
coord_polar(theta = "y") +
xlim(c(1, hsize + 0.5)) +
scale_fill_manual(
'Status',
values = c("#67CFC5", "#D9B05E"),
labels = c('Masih Hidup', 'Meninggal')
) +
scale_y_continuous(expand = c(0, 0)) +
labs(
title = NULL,
fill = NULL
) +
theme(
plot.title = element_text(size = rel(1.3), face = "bold"),
legend.position = c(1.2, 0.8),
panel.background = element_rect(fill = "white"),
panel.grid = element_blank(),
axis.title = element_blank(),
axis.ticks = element_blank(),
axis.text = element_blank()
)
dat %>%
group_by(status) %>%
summarise(n = n()) %>%
mutate(p = n/sum(n)) %>%
ggplot(aes(x = hsize, y = p, fill = factor(status))) +
geom_col(color = "white", width = 0.8, size = 1.5) +
geom_text(
aes(label = scales::percent(p, accuracy = 0.01)),
color = 'black',
fontface = 2,
position = position_stack(vjust = 0.5)
) +
coord_polar(theta = "y") +
xlim(c(1, hsize + 0.5)) +
scale_fill_manual(
'Status',
values = c("#67CFC5", "#D9B05E"),
labels = c('Masih Hidup', 'Meninggal')
) +
scale_y_continuous(expand = c(0, 0)) +
labs(
title = NULL,
fill = NULL
) +
theme(
plot.title = element_text(size = rel(1.3), face = "bold"),
legend.position = c(1.2, 0.8),
panel.background = element_rect(fill = "white"),
panel.grid = element_blank(),
axis.title = element_blank(),
axis.ticks = element_blank(),
axis.text = element_blank()
)
ggsave(
filename = str_glue('E:/Visualisasi/tugas/UAS AKH/status.png'),
dpi = 500,
width = 7,
height = 4,
scale = 0.8,
bg = 'white'
)
dat %>%
group_by(status) %>%
summarise(n = n()) %>%
mutate(p = n/sum(n)) %>%
ggplot(aes(x = hsize, y = p, fill = factor(status))) +
geom_col(color = "white", width = 0.8, size = 1.5) +
geom_text(
aes(label = scales::percent(p, accuracy = 0.01)),
color = 'black',
fontface = 2,
position = position_stack(vjust = 0.5)
) +
coord_polar(theta = "y") +
xlim(c(1, hsize + 0.5)) +
scale_fill_manual(
'Status',
values = c("#67CFC5", "#D9B05E"),
labels = c('Masih Hidup', 'Meninggal')
) +
scale_y_continuous(expand = c(0, 0)) +
labs(
title = NULL,
fill = NULL
) +
theme(
plot.title = element_text(size = rel(1.3), face = "bold"),
# legend.position = ,
panel.background = element_rect(fill = "white"),
panel.grid = element_blank(),
axis.title = element_blank(),
axis.ticks = element_blank(),
axis.text = element_blank()
)
ggsave(
filename = str_glue('E:/Visualisasi/tugas/UAS AKH/status.png'),
dpi = 500,
width = 7,
height = 4,
scale = 0.8,
bg = 'white'
)
# ukuran tumor
ggplot(dat, aes(x = uk_tmr, fill = factor(status))) +
geom_histogram() +
labs(x = "Ukuran Tumor", y = "Banyaknya Pasien") +
theme(legend.position = "none") +
facet_grid(
~status,
labeller = as_labeller(
c("0" = "Masih Hidup", "1" = "Meninggal")
)
)
ggsave(
filename = str_glue('E:/Visualisasi/tugas/UAS AKH/uk_tmr.png'),
dpi = 500,
width = 7,
height = 4,
scale = 0.8,
bg = 'white'
)
survSplit(Surv(time, status) ~ jk + kat_umur + uk_tmr + std_tmr +
n_simpul_tmr + kat_reshorA + kat_reshorB + terapi,
data = dat, cut = c(0, 300),
episode = "tgroup",
id = "id")
survSplit(Surv(time, status) ~ jk + kat_umur + uk_tmr + std_tmr +
n_simpul_tmr + kat_reshorA + kat_reshorB + terapi,
data = dat, cut = c(0, 300),
episode = "tgroup",
id = "id") %>%
count(tgroup)
survSplit(Surv(time, status) ~ jk + kat_umur + uk_tmr + std_tmr +
n_simpul_tmr + kat_reshorA + kat_reshorB + terapi,
data = dat, cut = 300,
episode = "tgroup",
id = "id") %>%
count(tgroup)
survSplit(Surv(time, status) ~ jk + kat_umur + uk_tmr + std_tmr +
n_simpul_tmr + kat_reshorA + kat_reshorB + terapi,
data = dat,
cut = 300,
end = 'time',
episode = "tgroup",
id = "id") %>%
count(tgroup)
survSplit(Surv(time, status) ~ jk + kat_umur + uk_tmr + std_tmr +
n_simpul_tmr + kat_reshorA + kat_reshorB + terapi,
data = dat,
cut = 300,
end = 'time',
event = 'status',
episode = "tgroup",
id = "id") %>%
count(tgroup)
survSplit(Surv(time, status) ~ jk + kat_umur + uk_tmr + std_tmr +
n_simpul_tmr + kat_reshorA + kat_reshorB + terapi,
data = dat,
cut = 300,
end = 'time',
event = 'status',
episode = "tgroup",
id = "id")
mutate(
g1 = ifelse(time < 300, 1, 0),
g2 = ifelse(time >= 300, 1, 0)
)
survSplit(Surv(time, status) ~ jk + kat_umur + uk_tmr + std_tmr +
n_simpul_tmr + kat_reshorA + kat_reshorB + terapi,
data = dat,
cut = 300,
end = 'time',
event = 'status',
episode = "tgroup",
id = "id") %>%
mutate(
g1 = ifelse(time < 300, 1, 0),
g2 = ifelse(time >= 300, 1, 0)
)
survSplit(Surv(time, status) ~ jk + kat_umur + uk_tmr + std_tmr +
n_simpul_tmr + kat_reshorA + kat_reshorB + terapi,
data = dat,
cut = 300,
end = 'time',
event = 'status',
episode = "tgroup",
id = "id") %>%
mutate(
g1 = ifelse(time < 300, 1, 0),
g2 = ifelse(time >= 300, 1, 0),
resA_g1 = tgroup * g1,
resA_g2 = tgroup * g2
)
survSplit(Surv(time, status) ~ jk + kat_umur + uk_tmr + std_tmr +
n_simpul_tmr + kat_reshorA + kat_reshorB + terapi,
data = dat,
cut = 300,
end = 'time',
event = 'status',
episode = "tgroup",
id = "id") %>%
mutate(
g1 = ifelse(time < 300, 1, 0),
g2 = ifelse(time >= 300, 1, 0),
resA_g1 = tgroup * g1,
resA_g2 = tgroup * g2
) %>%
arrange(id)
dat2 <-
survSplit(Surv(time, status) ~ jk + kat_umur + uk_tmr + std_tmr +
n_simpul_tmr + kat_reshorA + kat_reshorB + terapi,
data = dat,
cut = 300,
end = 'time',
event = 'status',
episode = "tgroup",
id = "id") %>%
mutate(
g1 = ifelse(time < 300, 1, 0),
g2 = ifelse(time >= 300, 1, 0),
resA_g1 = tgroup * g1,
resA_g2 = tgroup * g2
) %>%
arrange(id)
mcox_ex <- coxph(Surv(time, status) ~ kat_umur + jk + uk_tmr + std_tmr +
n_simpul_tmr + kat_reshorB + terapi +
resA_g1 + resA_g2, data = dat)
mcox_ex <- coxph(Surv(time, status) ~ kat_umur + jk + uk_tmr + std_tmr +
n_simpul_tmr + kat_reshorB + terapi +
resA_g1 + resA_g2, data = dat2)
summary(mcox_ex)
AIC(mcox_ex)
dat2
mcox_ex <- coxph(Surv(time, status) ~ kat_umur + jk + uk_tmr + std_tmr +
n_simpul_tmr + kat_reshorB + terapi +
resA_g1 + resA_g2 + cluster(id), data = dat2)
summary(mcox_ex)
glimpse(dat2)
mcox_ex <- coxph(Surv(time, status) ~ kat_umur + jk + uk_tmr + std_tmr +
n_simpul_tmr + kat_reshorB + terapi +
resA_g1 + resA_g2 + cluster(id), data = dat2)
summary(mcox_ex)
AIC(mcox_ex)
survSplit(Surv(time, status) ~ jk + kat_umur + uk_tmr + std_tmr +
n_simpul_tmr + kat_reshorA + kat_reshorB + terapi,
data = dat,
cut = 300,
# end = 'time',
# event = 'status',
episode = "tgroup",
id = "id")
dat2 <-
survSplit(Surv(time, status) ~ jk + kat_umur + uk_tmr + std_tmr +
n_simpul_tmr + kat_reshorA + kat_reshorB + terapi,
data = dat,
cut = 300,
# end = 'time',
# event = 'status',
episode = "tgroup",
id = "id") %>%
mutate(
g1 = ifelse(time < 300, 1, 0),
g2 = ifelse(time >= 300, 1, 0),
resA_g1 = tgroup * g1,
resA_g2 = tgroup * g2
) %>%
arrange(id)
mcox_ex <- coxph(Surv(time, status) ~ kat_umur + jk + uk_tmr + std_tmr +
n_simpul_tmr + kat_reshorB + terapi +
resA_g1 + resA_g2 + cluster(id), data = dat2)
summary(mcox_ex)
AIC(mcox_ex)
AIC(mcox)
dat2 <-
survSplit(Surv(time, status) ~ jk + kat_umur + uk_tmr + std_tmr +
n_simpul_tmr + kat_reshorA + kat_reshorB + terapi,
data = dat,
cut = 300,
# end = 'time',
# event = 'status',
episode = "tgroup",
id = "id") %>%
mutate(
g1 = ifelse(time < 300, 1, 0),
g2 = ifelse(time >= 300, 1, 0),
resA_g1 = tgroup * kat_reshorA,
resA_g2 = tgroup * g2
) %>%
arrange(id)
mcox_ex <- coxph(Surv(time, status) ~ kat_umur + jk + uk_tmr + std_tmr +
n_simpul_tmr + kat_reshorB + terapi +
resA_g1 + resA_g2 + cluster(id), data = dat2)
dat2 <-
survSplit(Surv(time, status) ~ jk + kat_umur + uk_tmr + std_tmr +
n_simpul_tmr + kat_reshorA + kat_reshorB + terapi,
data = dat,
cut = 300,
# end = 'time',
# event = 'status',
episode = "tgroup",
id = "id") %>%
mutate(
g1 = ifelse(time < 300, 1, 0),
g2 = ifelse(time >= 300, 1, 0),
resA_g1 = tgroup * as.numeric(kat_reshorA),
resA_g2 = tgroup * g2
) %>%
arrange(id)
mcox_ex <- coxph(Surv(time, status) ~ kat_umur + jk + uk_tmr + std_tmr +
n_simpul_tmr + kat_reshorB + terapi +
resA_g1 + resA_g2 + cluster(id), data = dat2)
summary(mcox_ex)
dat2 <-
survSplit(Surv(time, status) ~ jk + kat_umur + uk_tmr + std_tmr +
n_simpul_tmr + kat_reshorA + kat_reshorB + terapi,
data = dat,
cut = 300,
# end = 'time',
# event = 'status',
episode = "tgroup",
id = "id") %>%
mutate(
# g1 = ifelse(time < 300, 1, 0),
# g2 = ifelse(time >= 300, 1, 0),
# resA_g1 = tgroup * g1,
# resA_g2 = tgroup * g2
resA = ifelse(resA == 'rendah', 0, 1),
resA = resA * tgroup
) %>%
arrange(id)
dat2 <-
survSplit(Surv(time, status) ~ jk + kat_umur + uk_tmr + std_tmr +
n_simpul_tmr + kat_reshorA + kat_reshorB + terapi,
data = dat,
cut = 300,
# end = 'time',
# event = 'status',
episode = "tgroup",
id = "id") %>%
mutate(
# g1 = ifelse(time < 300, 1, 0),
# g2 = ifelse(time >= 300, 1, 0),
# resA_g1 = tgroup * g1,
# resA_g2 = tgroup * g2
resA = ifelse(kat_reshorA == 'rendah', 0, 1),
resA = resA * tgroup
) %>%
arrange(id)
mcox_ex <- coxph(Surv(time, status) ~ kat_umur + jk + uk_tmr + std_tmr +
n_simpul_tmr + kat_reshorB + terapi +
resA + cluster(id), data = dat2)
summary(mcox_ex)
AIC(mcox_ex)
AIC(mcox)
cox.zph(mcox_ex)
unique(dat$jk)
unique(dat$jk) %>% dput()
scox
cox.zph(scox)
dat$status %>% table()
dat$status %>% length()
fit_treat <- survfit(Surv(waktu, status)~kat_reshorA, data = dat)
fit_treat <- survfit(Surv(time, status)~kat_reshorA, data = dat)
plot(fit_treat, fun = 'cloglog')
.libPaths()
library(sf)
jakarta <- st_read('E:/peta/DKIJakarta_kel/DKIJakarta_kel.shp')
jakarta
dat <- readxl::read_xlsx('D:/Downloads/Standar Kelurahan Data Corona (21 Juni 2022 pukul 15.00).xlsx')
dat %>% glimpse()
tidymodels::tidymodels_prefer()
dat %>%
select(POSITIF, Sembuh, 'Meninggal...31', `Self Isolation`)
dat %>%
select(nama_kelurahan, POSITIF, Sembuh, 'Meninggal...31', `Self Isolation`) %>%
drop_na()
dat %>%
select(nama_kelurahan, POSITIF, Sembuh, 'Meninggal...31', `Self Isolation`) %>%
drop_na(nama_kelurahan)
dat %>%
select(
nmkel = nama_kelurahan,
positif = POSITIF,
sembuh = Sembuh,
meninggal = 'Meninggal...31',
isoman = `Self Isolation`) %>%
drop_na(nama_kelurahan)
dat %>%
select(
nmkel = nama_kelurahan,
positif = POSITIF,
sembuh = Sembuh,
meninggal = 'Meninggal...31',
isoman = `Self Isolation`)
dat %>%
select(
nmkel = nama_kelurahan,
positif = POSITIF,
sembuh = Sembuh,
meninggal = 'Meninggal...31',
isoman = `Self Isolation`) %>%
drop_na(nmkel)
dat <- dat %>%
select(
nmkel = nama_kelurahan,
positif = POSITIF,
sembuh = Sembuh,
meninggal = 'Meninggal...31',
isoman = `Self Isolation`) %>%
drop_na(nmkel)
jakarta
# Join --------------------------------------------------------------------
jakarta %>%
left_join(dat, by = c('FIRST_NAMO' = '{str_to_upper(nmkel)}'))
dat <- readxl::read_xlsx('D:/Downloads/Standar Kelurahan Data Corona (21 Juni 2022 pukul 15.00).xlsx')
dat %>% glimpse()
dat <- dat %>%
select(
nmkel = nama_kelurahan,
positif = POSITIF,
sembuh = Sembuh,
meninggal = 'Meninggal...31',
isoman = `Self Isolation`) %>%
drop_na(nmkel) %>%
mutate(nmkel = str_to_upper(nmkel))
dat %>% glimpse()
# Join --------------------------------------------------------------------
jakarta %>%
left_join(dat, by = c('FIRST_NAMO' = 'nmkel'))
dat <- readxl::read_xlsx('D:/Downloads/Standar Kelurahan Data Corona (21 Juni 2022 pukul 15.00).xlsx')
dat %>% glimpse()
dat <- dat %>%
select(
nmkel = nama_kelurahan,
positif = POSITIF,
sembuh = Sembuh,
meninggal = 'Meninggal...31',
isoman = `Self Isolation`) %>%
drop_na(nmkel) %>%
mutate(nmkel = str_to_title(nmkel))
# Join --------------------------------------------------------------------
jakarta %>%
left_join(dat, by = c('FIRST_NAMO' = 'nmkel'))
# Join --------------------------------------------------------------------
jakarta %>%
left_join(dat, by = c('FIRST_NAMO' = 'nmkel')) %>%
write_sf('E:/peta/latihan/jakarta.geojson')
44348.956/33438.421
pf(1.326287, 32.440, 0.560, lower.tail = F)
pf(7.4921, 64.9817, 444.0183 , lower.tail = F)
# -------------------------------------------------------------------------
read.csv('E:/peta/pert14/latihan/latihan2_listwise.csv')
# -------------------------------------------------------------------------
read.csv('E:/peta/pert14/latihan/latihan2_listwise.csv', header = T)
# -------------------------------------------------------------------------
read.csv('E:/peta/pert14/latihan/latihan2_listwise.csv', header = T)
# -------------------------------------------------------------------------
read_csv('E:/peta/pert14/latihan/latihan2_listwise.csv', header = T)
# -------------------------------------------------------------------------
read_csv('E:/peta/pert14/latihan/latihan2_listwise.csv')
# -------------------------------------------------------------------------
hasil <- read_csv('E:/peta/pert14/latihan/latihan2_listwise.csv', sep = ' ')
# -------------------------------------------------------------------------
hasil <- read_csv('E:/peta/pert14/latihan/latihan2_listwise.csv', del = '')
# -------------------------------------------------------------------------
hasil <- read_csv('E:/peta/pert14/latihan/latihan2_listwise.csv', delimiter = '')
read.csv2('E:/peta/pert14/latihan/latihan2_listwise.csv')
read.csv2('E:/peta/pert14/latihan/latihan2_listwise.csv', header = T)
hasil <- read.csv2('E:/peta/pert14/latihan/latihan2_listwise.csv', header = T)
glimpse(hasil)
# -------------------------------------------------------------------------
hasil <- read_csv('E:/peta/pert14/latihan/latihan2_listwise.csv', delimiter = '')
glimpse(hasil)
hasil <- read.csv2('E:/peta/pert14/latihan/latihan2_listwise.csv', header = T, sep = ' ')
glimpse(hasil)
hasil <- read.csv2('E:/peta/pert14/latihan/latihan2_listwise.csv', header = T, sep = ',')
hasil <- readxl::read_xlsx('E:/peta/pert14/latihan/latihan2_listwise.xlsx')
glimpse(hasil)
hasil <- read.csv2('E:/peta/pert14/latihan/latihan2_listwise.csv', header = T, sep = ',', dec = ',')
hasil <- read.csv2('E:/peta/pert14/latihan/latihan2_listwise.csv', header = T, dec = ',')
glimpse(hasil)
hasil <- read.csv2('E:/peta/pert14/latihan/latihan2_listwise.csv', header = T, dec = ',', sep = ', ')
hasil <- read.csv2('E:/peta/pert14/latihan/latihan2_listwise.csv', header = T, dec = ',', sep = ' ')
glimpse(hasil)
# -------------------------------------------------------------------------
hasil <- read_csv('E:/peta/pert14/latihan/latihan2_listwise.csv')
glimpse(hasil)
# -------------------------------------------------------------------------
hasil <- read_csv('E:/peta/pert14/latihan/latihan_listwise.csv')
glimpse(hasil)
pf(2.846203, 6.788, 26.212, lower.tail = F)
lm(Sepal.width ~ Sepal.length, data = iris)
lm(Sepal.Width ~ Sepal.Length, data = iris)
lm(Sepal.Width ~ Sepal.Length, data = iris) %>% summary()
2 * (1 - pt(abs(-1.44), 1)), 3
2 * (1 - pt(abs(-1.44), 1))
2 * (1 - pt(abs(-1.44), 1, lower.tail = F))
2 * (1 - pt(abs(-1.44), 1))
2 * (1 - pt(abs(-1.44), 2))
2 * (1 - pt(abs(-1.44), 3))
2 * (1 - pt(abs(-1.44), 150))
2 * (1 - pt(abs(-1.44), 150 - 1))
949 - 547
